  <!doctype html>
  <html lang="en">
    <head>
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <title>Periods Left</title>
      <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">
      <link rel= "stylesheet" type= "text/css" href= "{{ url_for('static',filename='styles/style.css') }}">
      <script>
          function redirect_timetable() {
            const filename = document.getElementById("redirect_filename").value;
            window.location = "/timetable/" + filename;
          }
        </script>
      <script>
          function redirect_countdown() {
            const filename = document.getElementById("redirect_filename").value;
            window.location = "/countdown/" + filename;
          }
        </script>
      
    </head>
    <body>
      <nav class="nav nav-pills nav-fill ">
          <a class="nav-link active" href="/">Setup</a>
          <a class="nav-link" href="/timetable">Periods Left</a>
          <a class="nav-link" href="/countdown">Countdown </a>
      </nav>
      <h1 id="periods-left-">Periods Left!</h1>
      <p>This website will calculate how many periods left of school you have until your timetable runs out! (Usually at the end of each term.) This is designed to work for <strong>Caringbah High School students only</strong>!</p>
      <h3 id="setup">Setup</h3>
      <p>To use this website, you have to upload your timetable. I need to make it very clear now, that this is stored on a server, and I can see what you upload to it. Obviously I&#39;m not going to sell your data to anyone, and by you using this website, I agree not to sell your data to anyone (intentionally). I will go through at the end of each term and delete your timetable data from the server, to stop it from taking up space, and protect your privacy. (I mean, be realistic though who wants to steal teenager&#39;s high school timetables?!)</p>
      <h3 id="how-to-upload-your-timetable">How to upload your timetable</h3>
      <p>To obtain your timetable in the correct format, you have to download it as a .ics file.</p>
      <h4 id="old-sentral">Old Sentral</h4>
      <p>To export your calendar in the correct format from the old Sentral you go to the timetable tab  <a href="https://caringbahhs.sentral.com.au/s-Y7eXkn/portal/timetable/mytimetable">or click this link</a>, and then click the blue <strong>Export as iCal</strong> button in the top right hand corner.</p>
      <h4 id="new-sentral">New Sentral</h4>
      <p>To export your calendar in the new sentral, click on the timetable dropdown, then in the top right of the dropdown click on the 'Export as ICS' hyperlink.</p>
      <h4 id="choosing-a-name-for-your-timetable">Choosing a name for your timetable</h4>
      <p>For you to be able to use your timetable repeatedly, you <strong><em>must</em></strong> choose a memorable filename for your timetable. I recommend something like this: <code>your_name_year_maincolour.ics</code> It does not have to be in this format, but it will help you to remember it. Any spaces in the file <strong>must</strong> be replaced with underscores or dash, if you do not, the system will automatically convert any spaces to underscores. Once you have decided upon a filename, you can click the button below to choose the file, then click the upload button.</p>
      <form action = "/success" method = "post" enctype="multipart/form-data">
          <input type="file" class="btn btn-primary" name="file"/>
          <input type="submit" class="btn btn-outline-secondary" value="Upload Timetable">
      </form>
      <p>Sorry about the button inside a button thing, I couldn't figure out how to get rid of it as an amateur html coder...</p>
      <h4 id="getting-to-your-timetable">Getting to your timetable</h4>
      <p>To navigate back to your timetable, <strong>do not reupload it</strong>, instead navigate to <a href="https://mario872.pythonanywhere.com/timetable/your_filename_here_excluding_the_.ics">https://mario872.pythonanywhere.com/timetable/your_filename_here_excluding_the_.ics</a>
      For example: <a href="https://mario8782.pythonanywhere.com/timetable/jammy_glyne_7_yellow">https://mario8782.pythonanywhere.com/timetable/jammy_glyne_8_yellow</a>
      You can navigate back to this link <strong>any time you want during the same term that you uploaded it</strong>. After that, you will have to reupload your timetable.</p>
      <p>You can also use the below inputs to navigate to your timetable's period counter and countdown clock faster.</p>
      <div class="input-group mb-3">
          <div class="input-group-prepend">
            <span class="input-group-text" id="basic-addon3">https://mario872.pythonanywhere.com/timetable/</span>
          </div>
          <input id="redirect_filename" class="form-control">
          <div class="input-group-append">
            <button class="btn btn-outline-secondary" onclick=redirect_timetable()>Go to Period Counter</button>
          </div>
        </div>
        <div class="input-group mb-3">
          <div class="input-group-prepend">
            <span class="input-group-text" id="basic-addon3">https://mario872.pythonanywhere.com/countdown/</span>
          </div>
          <input id="redirect_filename" class="form-control">
          <div class="input-group-append">
            <button class="btn btn-outline-secondary" onclick=redirect_countdown()>Go to Countdown Clock</button>
          </div>
        </div>
    </body>   
  </html>